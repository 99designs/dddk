{
	"title": "Payments",
	"description": "",
	"widgets": [
		{
			"id": 243925770,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "ewma_10(sum:payments.service.successful_stripe_payment{*}.as_count())",
						"display_type": "line",
					},
					{
						"q": "week_before(ewma_10(sum:payments.service.successful_stripe_payment{*}.as_count()))",
						"display_type": "line",
					}
				],
				"title": "Successful Payments vs. Same Time Last Week",
			}
		},
		{
			"id": 262983360,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.describe_available_payment_methods{*}.as_count().rollup(sum, 7200)",
						"display_type": "bars",
						"style": {
						}
					},
					{
						"q": "week_before(avg:payments.service.describe_available_payment_methods{*}.as_count().rollup(sum, 7200))",
						"display_type": "line",
						"style": {
						}
					}
				],
				"title": "payments.service.describe_available_payment_methods, payments.service.describ...",
			}
		},
		{
			"id": 243931200,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "( ewma_10(sum:payments.service.successful_stripe_payment{*}.as_count()) + ewma_10(sum:payments.service.successful_paypal_payment{*}.as_count()) ) / ewma_10(sum:payments.browser.modal_show{*}.as_count())",
						"display_type": "line"
					}
				],
				"title": "Payments Conversion Rate (Modal Opens vs. Successful Payments)",
			}
		},
		{
			"id": 243931239,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "ewma_10(sum:payments.browser.modal_show{*}.as_count())",
						"display_type": "line"
					},
					{
						"q": "week_before(ewma_10(sum:payments.browser.modal_show{*}.as_count()))",
						"display_type": "line",
					}
				],
				"title": "Modal Opened vs. Same Time Last Week",
			}
		},
		{
			"id": 243931474,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "max:aws.elb.healthy_host_count{name:payments}",
						"display_type": "area"
					},
					{
						"q": "max:aws.elb.un_healthy_host_count{name:payments}",
						"display_type": "area"
					}
				],
				"title": "Payments App Healthy Host Count",
			}
		},
		{
			"id": 243931476,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "max:aws.rds.cpuutilization{name:payments}",
						"display_type": "line"
					}
				],
				"title": "RDS CPU Utilization",
			}
		},
		{
			"id": 243934035,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:aws.elb.httpcode_backend_4xx{*}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "Bad Requests 4XX",
			}
		},
		{
			"id": 252362806,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:aws.elb.httpcode_backend_5xx{*}.as_count()",
						"display_type": "bars",
					}
				],
				"title": "Bad Requests 5XX",
			}
		},
		{
			"id": 243936926,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.sidekiq.enqueue.size{*}, avg:payments.service.sidekiq.retry.size{*}",
						"display_type": "area"
					}
				],
				"title": "Worker Queue Status",
			}
		},
		{
			"id": 243936103,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "max:aws.ec2.cpuutilization{role:payments-app}, max:aws.ec2.cpuutilization{role:payments-worker}",
						"display_type": "bars"
					}
				],
				"title": "App & Worker CPU Utilization",
			}
		},
		{
			"id": 243935962,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:aws.elb.httpcode_backend_2xx{*}.as_count(), avg:aws.elb.httpcode_backend_3xx{*}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "Healthy Requests 2XX/3XX",
			}
		},
		{
			"id": 243937005,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:aws.elb.latency.maximum{*}",
						"display_type": "area"
					}
				],
				"title": "Request Latency",
			}
		},
		{
			"id": 244173610,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:aws.rds.database_connections{dbinstanceidentifier:payments}",
						"display_type": "line"
					}
				],
				"title": "DB Connections",
			}
		},
		{
			"id": 244800895,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:aws.elasticache.curr_connections{cacheclusterid:payments-ec-rg-001}, max:aws.elasticache.new_connections{cacheclusterid:payments-ec-rg-001}",
						"display_type": "bars"
					}
				],
				"title": "Redis Connections",
			}
		},
		{
			"id": 244844736,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:aws.elasticache.network_bytes_in{cacheclusterid:payments-ec-rg-001}.as_count(), avg:aws.elasticache.network_bytes_out{cacheclusterid:payments-ec-rg-001}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "Redis Network I/O",
			}
		},
		{
			"id": 258016984,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_complete{*} by {payment_result}.as_count()",
						"display_type": "bars",
					}
				],
				"title": "Payments by payment result",
			}
		},
		{
			"id": 258017061,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_complete{*} by {payment_method}.as_count()",
						"display_type": "bars",
					}
				],
				"title": "Payments by payment method",
			}
		},
		{
			"id": 260402715,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_complete{payment_vendor:pk_contests} by {payment_result}.as_count()",
						"display_type": "bars",
					}
				],
				"title": "Payments by result for contests",
			}
		},
		{
			"id": 260466263,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_complete{payment_vendor:pk_projects} by {payment_result}.as_count()",
						"display_type": "bars",
					}
				],
				"title": "Payments by result for projects",
			}
		},
		{
			"id": 258034420,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_complete{payment_method:stripe} by {payment_result}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "Stripe payments by payment result",
			}
		},
		{
			"id": 258104172,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_complete{payment_method:paypal} by {payment_result}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "PayPal payments by payment result",
			}
		},
		{
			"id": 259453987,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_complete{payment_method:customer-credits} by {payment_result}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "Customer Credits payments by payment result",
			}
		},
		{
			"id": 258104173,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_complete{payment_method:sofort} by {payment_result}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "Sofort payments by payment result",
			}
		},
		{
			"id": 258035294,
			"definition": {
				"type": "change",
				"requests": [
					{
						"q": "sum:payments.service.payment_complete{payment_result:success} by {payment_method}.as_count()",
						"change_type": "absolute",
						"compare_to": "week_before",
						"increase_good": true,
						"order_by": "change",
						"order_dir": "desc"
					}
				],
				"title": "Payments vs. previous week"
			}
		},
		{
			"id": 258037137,
			"definition": {
				"type": "change",
				"requests": [
					{
						"q": "sum:payments.service.payment_complete{*} by {payment_result}.as_count()",
						"change_type": "absolute",
						"compare_to": "week_before",
						"increase_good": true,
						"order_by": "change",
						"order_dir": "desc"
					}
				],
				"title": "Payment results vs. previous week"
			}
		},
		{
			"id": 260436039,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.describe_available_payment_methods{*} by {payment_vendor}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "Requests to describe payment methods (a precursor to showing the modal).",
			}
		},
		{
			"id": 260455067,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_started{*}.as_count()",
						"display_type": "bars"
					}
				],
				"title": "Payment attempts",
			}
		},
		{
			"id": 260802810,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.payment_started{*}.as_count()-week_before(avg:payments.service.payment_started{*}.as_count())",
						"display_type": "bars",
						"style": {
						}
					}
				],
				"title": "Avg of payments.service.payment_started over *",
			}
		},
		{
			"id": 260803111,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "sum:payments.service.payment_complete{payment_result:success}.as_count()-week_before(sum:payments.service.payment_complete{payment_result:success}.as_count())",
						"display_type": "bars",
						"style": {
						}
					}
				],
				"title": "Sum of payments.service.payment_complete over payment_result:success",
			}
		},
		{
			"id": 261532840,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.describe_available_payment_methods{*}.as_count()/avg:payments.service.payment_complete{*}.as_count()",
						"display_type": "bars",
						"style": {
						}
					}
				],
				"title": "Times modal shown vs. number of completed payment atempts",
			}
		},
		{
			"id": 262498441,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "sum:payments.service.payment_complete{payment_result:success,payment_vendor:pk_projects}.as_count()/sum:payments.service.describe_available_payment_methods{payment_vendor:pk_projects}.as_count()",
						"display_type": "bars",
						"style": {
						}
					}
				],
				"title": "[Projects] Successful payments over number of times the modal was loaded",
			}
		},
		{
			"id": 262535046,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "sum:payments.service.payment_complete{payment_result:success,payment_vendor:pk_contests}.as_count()/sum:payments.service.describe_available_payment_methods{payment_vendor:pk_contests}.as_count()",
						"display_type": "bars",
						"style": {
						}
					}
				],
				"title": "[Contests] Successful payments over number of times the modal was loaded",
			}
		},
		{
			"id": 277980803,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "sum:trace.rack.request.hits{service:payments,env:production}.as_count()",
						"display_type": "bars",
						"style": {
						}
					},
					{
						"q": "sum:trace.rack.request.errors{service:payments,env:production}.as_count()",
						"display_type": "bars",
						"style": {
						}
					}
				],
				"title": "Total Requests on service:payments",
			}
		},
		{
			"id": 280682234,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "sum:payments.service.payment_complete{payment_vendor:pk_projects,payment_result:success}.as_count().rollup(sum, 21600)",
						"display_type": "line",
						"style": {
						}
					},
					{
						"q": "week_before(sum:payments.service.payment_complete{payment_vendor:pk_projects,payment_result:success}.as_count().rollup(sum, 21600))",
						"display_type": "line",
						"style": {
						}
					}
				],
				"title": "Successful payments for projects vs. last week",
			}
		},
		{
			"id": 283871038,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "sum:payments.service.payment_complete{payment_result:success,payment_vendor:pk_contests}.as_count().rollup(sum, 21600)",
						"display_type": "line",
						"style": {
						}
					},
					{
						"q": "week_before(sum:payments.service.payment_complete{payment_result:success,payment_vendor:pk_contests}.as_count().rollup(sum, 21600))",
						"display_type": "line",
						"style": {
						}
					}
				],
				"title": "Successful payments for contests vs. last week",
			}
		},
		{
			"id": 280682911,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:payments.service.describe_available_payment_methods{payment_vendor:pk_projects}.as_count().rollup(sum, 21600)",
						"display_type": "line",
						"style": {
						}
					},
					{
						"q": "week_before(avg:payments.service.describe_available_payment_methods{payment_vendor:pk_projects}.as_count().rollup(sum, 21600))",
						"display_type": "line",
						"style": {
						}
					}
				],
				"title": "Requests to describe payment methods (a precursor to showing the modal).",
			}
		},
		{
			"id": 280683076,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "ewma_10(sum:payments.service.payment_complete{payment_vendor:pk_projects,payment_result:success}.as_count())/ewma_10(sum:payments.service.describe_available_payment_methods{payment_vendor:pk_projects}.as_count())",
						"display_type": "line",
						"style": {
						}
					},
					{
						"q": "week_before(ewma_10(sum:payments.service.payment_complete{payment_vendor:pk_projects,payment_result:success}.as_count()))/week_before(ewma_10(sum:payments.service.describe_available_payment_methods{payment_vendor:pk_projects}.as_count()))",
						"display_type": "line",
						"style": {
						}
					}
				],
				"title": "Projects modal loaded vs. successful payments",
			}
		},
		{
			"id": 3222041164158002,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "sum:payments.service.payment_complete{payment_vendor:pk_projects,payment_result:success}.as_count()/sum:payments.service.describe_available_payment_methods{payment_vendor:pk_projects}.as_count()",
						"display_type": "bars",
						"style": {
						}
					}
				],
				"title": "Projects modal loaded vs. successful payments",
			}
		},
		{
			"id": 280683079,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "ewma_10(sum:payments.service.payment_complete{payment_result:success,payment_vendor:pk_contests}.as_count())/ewma_10(sum:payments.service.describe_available_payment_methods{payment_vendor:pk_contests}.as_count())",
						"display_type": "line",
						"style": {
						}
					},
					{
						"q": "week_before(ewma_10(sum:payments.service.payment_complete{payment_result:success,payment_vendor:pk_contests}.as_count()))/week_before(ewma_10(sum:payments.service.describe_available_payment_methods{payment_vendor:pk_contests}.as_count()))",
						"display_type": "line",
						"style": {
						}
					}
				],
				"title": "Contests modal loaded vs. successful payments",
			}
		},
		{
			"id": 286247747,
			"definition": {
				"type": "timeseries",
				"requests": [
					{
						"q": "avg:trace.rack.request.duration.by.resource_service.99p{env:production,resource:6114d66f16a831ca,service:payments}",
						"display_type": "line",
						"style": {
						}
					}
				],
				"title": "Latency on service:payments in env:production",
			}
		},
		{
			"id": 320238546,
			"definition": {
				"type": "toplist",
				"requests": [
					{
						"q": "top(sum:trace.rack.request.hits{service:payments} by {resource_name}.as_count(), 10, 'sum', 'desc')",
					}
				],
				"title": "Top 10 routes by throughput"
			}
		},
		{
			"id": 320246508,
			"definition": {
				"type": "toplist",
				"requests": [
					{
						"q": "top(sum:trace.rack.request.duration{service:payments} by {resource_name}, 10, 'mean', 'desc')",
					}
				],
				"title": "Top 10 slowest routes"
			}
		}
	],
	"template_variables": [],
	"layout_type": "ordered",
	"is_read_only": false,
	"notify_list": [],
	"id": "af7-2zk-xn7"
}